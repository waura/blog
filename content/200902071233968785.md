Title: Xファイルのフォーマット(5)
Date: 2009-02-07 10:06
Author: waura
Category: DirectX
Slug: 200902071233968785
Status: published

今回はスキンメッシュに使うテンプレートの説明。

```cpp
    SkinMeshHeader {
        一つの頂点に対して、影響を与えるボーンの最大数;
        一つの面に対して、影響を与えるボーンの最大数;
        ボーンの数;
    }
    SkinWeight {
        ボーン(フレーム)の名前;
        重みの数;
        重みを与える頂点; //繰り返し
        0~1の値の頂点に対する重み; //繰り返し
        メッシュの頂点をボーンの空間にトランスフォームする4x4行列;
    }
```

SkinMeshHeaderの中にあるボーンの数だけSkinWeightは定義されているはずです。  
AnimationKeyでボーンが変形されたとき、重みにあわせて変形量を変える事によって  
スキンメッシュを実装します。
